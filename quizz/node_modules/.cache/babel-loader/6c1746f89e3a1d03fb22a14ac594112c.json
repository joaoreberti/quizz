{"ast":null,"code":"var _jsxFileName = \"/home/joaoreberti/quizzNight/quizz/src/components/LandingPage/LandingPage.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nconst LandingPage = props => {\n  let history = useHistory();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [tryAgain, setTryAgain] = useState(false);\n\n  const handleChangeInput = event => {\n    if (event.target.name === \"username\") {\n      let newUsername = event.target.value;\n      setUsername(newUsername);\n    }\n\n    if (event.target.name === \"password\") {\n      let newUsername = event.target.value;\n      setPassword(newUsername);\n    }\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    fetch(\"http://localhost:3051/login\", {\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: 'include',\n      method: \"POST\",\n      body: JSON.stringify({\n        username: username,\n        password: password\n      })\n    }).then(result => {\n      return result.json();\n    }).then(data => {\n      props.handleLogin(event, data);\n      history.push(\"/profile\");\n      console.log(data);\n    }).catch(err => {\n      setTryAgain(true);\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    value: username,\n    name: \"username\",\n    onChange: handleChangeInput,\n    placeholder: \"insert name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    value: password,\n    name: \"password\",\n    onChange: handleChangeInput,\n    type: \"password\",\n    placeholder: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, \"Login\")), tryAgain && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 20\n    }\n  }, \"That combination does not exit. Try again\"));\n};\n\nexport default LandingPage;","map":{"version":3,"sources":["/home/joaoreberti/quizzNight/quizz/src/components/LandingPage/LandingPage.jsx"],"names":["React","useState","useEffect","useHistory","LandingPage","props","history","username","setUsername","password","setPassword","tryAgain","setTryAgain","handleChangeInput","event","target","name","newUsername","value","handleSubmit","preventDefault","fetch","headers","Accept","credentials","method","body","JSON","stringify","then","result","json","data","handleLogin","push","console","log","catch","err"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AAEA,MAAMC,WAAW,GAAIC,KAAD,IAAW;AAC7B,MAAIC,OAAO,GAAGH,UAAU,EAAxB;AACA,QAAM,CAACI,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACU,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAC,KAAD,CAAxC;;AACA,QAAMY,iBAAiB,GAAIC,KAAD,IAAW;AACnC,QAAIA,KAAK,CAACC,MAAN,CAAaC,IAAb,KAAsB,UAA1B,EAAsC;AACpC,UAAIC,WAAW,GAAGH,KAAK,CAACC,MAAN,CAAaG,KAA/B;AACAV,MAAAA,WAAW,CAACS,WAAD,CAAX;AACD;;AACD,QAAIH,KAAK,CAACC,MAAN,CAAaC,IAAb,KAAsB,UAA1B,EAAsC;AACpC,UAAIC,WAAW,GAAGH,KAAK,CAACC,MAAN,CAAaG,KAA/B;AACAR,MAAAA,WAAW,CAACO,WAAD,CAAX;AACD;AACF,GATD;;AAWA,QAAME,YAAY,GAAIL,KAAD,IAAW;AAC9BA,IAAAA,KAAK,CAACM,cAAN;AAEAC,IAAAA,KAAK,CAAC,6BAAD,EAAgC;AACnCC,MAAAA,OAAO,EAAE;AACPC,QAAAA,MAAM,EAAE,kBADD;AAEP,wBAAgB;AAFT,OAD0B;AAKnCC,MAAAA,WAAW,EAAE,SALsB;AAMnCC,MAAAA,MAAM,EAAE,MAN2B;AAOnCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAErB,QAAAA,QAAQ,EAAEA,QAAZ;AAAsBE,QAAAA,QAAQ,EAAEA;AAAhC,OAAf;AAP6B,KAAhC,CAAL,CASCoB,IATD,CASOC,MAAD,IAAY;AACd,aAAOA,MAAM,CAACC,IAAP,EAAP;AACD,KAXH,EAYGF,IAZH,CAYQG,IAAI,IAAI;AACZ3B,MAAAA,KAAK,CAAC4B,WAAN,CAAkBnB,KAAlB,EAAyBkB,IAAzB;AACA1B,MAAAA,OAAO,CAAC4B,IAAR,CAAa,UAAb;AAEAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AACD,KAjBH,EAoBGK,KApBH,CAoBUC,GAAD,IAAS;AACd1B,MAAAA,WAAW,CAAC,IAAD,CAAX;AACAuB,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACD,KAvBH;AAwBD,GA3BD;;AA6BA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,KAAK,EAAE/B,QADT;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,QAAQ,EAAEM,iBAHZ;AAIE,IAAA,WAAW,EAAE,aAJf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAOE;AACE,IAAA,KAAK,EAAEJ,QADT;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,QAAQ,EAAEI,iBAHZ;AAIE,IAAA,IAAI,EAAC,UAJP;AAKE,IAAA,WAAW,EAAE,UALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,eAcE;AAAQ,IAAA,OAAO,EAAEM,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAdF,CADF,EAiBGR,QAAQ,iBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDAjBf,CADF;AAqBD,CAlED;;AAoEA,eAAeP,WAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nconst LandingPage = (props) => {\n  let history = useHistory();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [tryAgain, setTryAgain] = useState(false);\n  const handleChangeInput = (event) => {\n    if (event.target.name === \"username\") {\n      let newUsername = event.target.value;\n      setUsername(newUsername);\n    }\n    if (event.target.name === \"password\") {\n      let newUsername = event.target.value;\n      setPassword(newUsername);\n    }\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    fetch(\"http://localhost:3051/login\", {\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      credentials: 'include',\n      method: \"POST\",\n      body: JSON.stringify({ username: username, password: password }),\n    })\n    .then((result) => {\n        return result.json()\n      })\n      .then(data => {\n        props.handleLogin(event, data);\n        history.push(\"/profile\");\n\n        console.log(data);\n      }\n        \n      )\n      .catch((err) => {\n        setTryAgain(true);\n        console.log(err);\n      });\n  };\n\n  return (\n    <div>\n      <form>\n        <input\n          value={username}\n          name=\"username\"\n          onChange={handleChangeInput}\n          placeholder={\"insert name\"}\n        />\n        <input\n          value={password}\n          name=\"password\"\n          onChange={handleChangeInput}\n          type=\"password\"\n          placeholder={\"password\"}\n        />\n        <button onClick={handleSubmit}>Login</button>\n      </form>\n      {tryAgain && <div>That combination does not exit. Try again</div>}\n    </div>\n  );\n};\n\nexport default LandingPage;\n"]},"metadata":{},"sourceType":"module"}